from strands import Agent, tool


@tool
def applicant_profile(query: str) -> str:
    """受験者の背景、スキル、職務経歴を返すツール"""
    return (
        "■品質保証部 担当（2015年4月〜2022年3月）\n\n"
        "【主な担当案件】\n\n"
        "・工場の品質ロス削減活動の支援業務（QCストーリーに則った分析）\n\n"
        "・品質ロス改善に伴う異常監視システム導入の検討（PLC活用）\n\n"
        "・工場製造部、技術部への改善活動指導\n\n"
        "・社内研修講師（QCストーリー、検定等の統計内容）\n\n"
        "・BIツールによる分析および工場導入\n\n"
        "・ローコードのデータマイニングツール活用の検討\n\n\n\n"
        "【業務内容】\n\n"
        "≪工場常駐での品質改善活動≫\n\n"
        "・2工場に常駐し、品質ロス削減活動（現状分析〜対策立案〜効果確認）を推進。\n\n"
        "・異常監視システム導入提案、PLCによる簡易的な仕組み構築を実施。\n\n"
        "・QCストーリーに基づいた改善活動の指導を行い、品質分析体制の強化を支援。\n\n"
        "≪教育・研修活動≫\n\n"
        "・社内研修講師としてQCストーリーや統計検定（t検定、F検定）を担当。\n\n"
        "・技術員の分析スキル向上を目的に、実例ベースで教育プログラムを実施。\n\n"
        "≪BIツール導入・活用≫\n\n"
        "・2021年よりTableau（Prep、Desktop）を用いたデータクレンジング・分析を実施。\n\n"
        "・工場技術員への導入支援および小規模運用を主導。\n\n\n\n"
        "■製造技術センター システム開発部 主任（2022年4月〜2024年3月）\n\n"
        "【主な担当案件】\n\n"
        "・工場向けAI・機械学習システムの導入企画・マネジメント\n\n"
        "・Webアプリ開発および機械学習プラットフォーム構築の設計管理\n\n"
        "・ベンダーとの協働による要件定義〜詳細設計業務の推進\n\n"
        "・生成AI（RAG構成）を用いた業務効率化支援・PoC評価（オンプレ環境）\n\n"
        "・チーム運営および情報共有基盤（Notion）の導入・運用改善\n\n"
        "・AWS、オンプレ基盤のセキュリティ要件検討\n\n"
        "【業務内容】\n\n"
        "≪AI・機械学習システム導入プロジェクト≫\n\n"
        "・Python（Django・Plotly）、SQL、AWSを活用し、工場向け画像分類Webアプリの開発および機械学習プラットフォーム構築を担当。\n\n"
        "・要件定義〜詳細設計までをベンダーと協働で遂行。\n\n"
        "・AIシステム導入の推進と併せて、技術的知見の社内展開やシステム導入時の運用設計を実施。\n\n"
        "≪情報共有基盤整備≫\n\n"
        "・チーム内のナレッジ共有効率化を目的にNotionの導入を提案。\n\n"
        "・2023年度より本格的に活用を開始し、情報整理・更新フローの仕組み化を実施。\n\n\n\n"
        "■製造技術センター SF推進部 係長（2024年4月〜現在）\n\n"
        "【主な担当案件】\n\n"
        "・AI・生成AI施策全般の推進（既存システムの拡張および新規PoC）\n\n"
        "・機械学習プラットフォーム導入・運用管理\n\n"
        "・生成AI（RAG構成）を用いた業務効率化支援・PoC評価\n\n"
        "・AIエージェント施策の技術検証・導入支援\n\n"
        "・ベンダー調整・上長報告・施策進捗管理\n\n"
        "【業務内容】\n\n"
        "≪AI・生成AIの導入検討およびPoC推進≫\n\n"
        "・AWS上でのPoCおよびOSSを活用したオンプレ環境での検証を主導し、RAGシステムを中心に他部門の業務効率化を目的とした導入支援を継続推進。\n\n"
        "・AIエージェント導入構想の企画立案〜PoC開発までを担当し、上位層への上申を経て2025年後半期より正式施策として採択。\n\n"
        "・利用フレームワークやMCP・A2Aなどの連携方式を整理し、バイブコーディングを活用した迅速なプロトタイプ開発・検証を実施中。\n\n"
        "≪資格取得・技術領域≫\n\n"
        "・AWS認定資格：クラウドプラクティショナー（2021）、ソリューションアーキテクト–アソシエイト（2023）取得。\n\n"
        "・Bedrock、SageMakerを中心にAI関連サービスの設計・運用を担当。\n\n"
        "・生成AI活用の内製化推進（Dify構築・ワークフロー作成・エージェント実装など）。\n\n "
        "・現状（2025年）の部署では、上司である課長と私の2名体制で開始し、今年度入社の新人が途中で入った1名の3名体制です。\n\n"
        "課長は管理マネジメント、技術の選定やベンダーの調査と決定に向けた判断根拠等は私が担当。\n\n"
        "ベンダーとの技術的な折衝、指示と提供部門との話し合い、資料作成も担当\n\n"
        "新技術の調査や内部PoCも担当する中で、流石に体調と崩している。\n\n"
        "技術調査する中で、様々な部署での活用ができるものを見つけることができるが、製造部門中心に対する部署のため、採用できないこともある\n\n"
        "様々な部署に対して生成AIの活用をできるような業態で務めたい\n\n"
        "技術的な選定を一人で行っているため、選定における情報の限界があり、本当に大丈夫か不安になる。もう少しチーム単位で内容を決定して進めるようなことをしたい。\n\n"
    )


applicant_agent = Agent(
    name="ApplicantAgent",
    description="応募者。経歴やスキルを説明する。",
    system_prompt=(
        "あなたは応募者です。質問に答える際、職務経歴やスキルを確認する必要がある場合は、"
        "必ず applicant_profile ツールを使用して情報を確認してから回答してください。"
    ),
    tools=[applicant_profile],
)
